<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadora</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="estilo.css" />
    <link rel="shortcut icon" href="icon-calculator.png" type="image/x-icon" />
  </head>

  <body class="container-fundo">
    <div class="grid-container">
      <div class="output">
        <div data-previous-operand class="previous-operand">456</div>
        <div data-current-operand class="current-operand">123</div>
      </div>

      <button data-all-clear class="span-two">AC</button>
      <button data-delete>DEL</button>
      <button data-operator class="operator">รท</button>
      <button data-number>1</button>
      <button data-number>2</button>
      <button data-number>3</button>
      <button data-operator class="operator">*</button>
      <button data-number>4</button>
      <button data-number>5</button>
      <button data-number>6</button>
      <button data-operator class="operator">+</button>
      <button data-number>7</button>
      <button data-number>8</button>
      <button data-number>9</button>
      <button data-operator class="operator">-</button>
      <button data-number class="span-two">.</button>
      <button data-number>0</button>
      <button data-equals class="operator">=</button>
    </div>

    <script>
      const numberButtons = document.querySelectorAll("[data-number]");
      const operationButtons = document.querySelectorAll("[data-operator]");
      const equalsButtom = document.querySelector("[data-equals]");
      const deleteButtons = document.querySelector("[data-delete]");
      const allClearButton = document.querySelectorAll("[data-all-clear]");
      const previousOperandTextElement = document.querySelector(
        "[data-previous-operand]"
      );
      const currentOperandTextElement = document.querySelector(
        "[data-current-operand]"
      );

      class Calculator {
        constructor(previousOperandTextElement, currentOperandTextElement) {
          this.previousOperandTextElement = previousOperandTextElement;
          this.currentOperandTextElement = currentOperandTextElement;
          this.clear();
        }

        appendNumber(number) {
          this.currentOperandTextElement = `${
            this.currentOperand
          }${number.toString()}`;
        }

        clear() {
          this.currentOperand = "";
          this.previousOperand = "";
          this.operation = undefined;
        }

        updateDisplay() {
          this.previousOperandTextElement.innerText = this.previousOperand;
          this.currentOperandTextElement.innerText = this.currentOperand;
        }
      }

      const calculator = new Calculator(
        previousOperandTextElement,
        currentOperandTextElement
      );

      for (const numberButton of numberButtons) {
        numberButton.addEventListener("click"),
          () => {
            calculator.appendNumber(numberButton.innerText);
          };
      }

      allClearButton.addEventListener("click", () => {
        calculator.clear();
        calculator.updateDisplay();
      });
    </script>
  </body>
</html>
